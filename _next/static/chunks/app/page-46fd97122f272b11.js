(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1801:(e,t,a)=>{Promise.resolve().then(a.bind(a,8728))},2129:(e,t,a)=>{"use strict";a.d(t,{LanguageProvider:()=>i,o:()=>n});var r=a(5155),s=a(2115);let l=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[i,n]=(0,s.useState)("en"),[o,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{!async function(){try{let e=await a.e(348).then(a.t.bind(a,4348,19)),t=await a.e(734).then(a.t.bind(a,5734,19));d("en"===i?e.default:t.default)}catch(e){console.error("Failed to load translations:",e)}}()},[i]);let c="fa"===i?"rtl":"ltr";return o?(0,r.jsx)(l.Provider,{value:{language:i,translations:o,toggleLanguage:()=>{n(e=>"en"===e?"fa":"en")},setLanguage:e=>{n(e)},direction:c},children:(0,r.jsx)("div",{dir:c,children:t})}):(0,r.jsx)("div",{children:"Loading... / در حال بارگذاری..."})}function n(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>x});var r=a(2115);let s=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function x(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8728:(e,t,a)=>{"use strict";a.d(t,{CalculatorApp:()=>T});var r=a(5155),s=a(2115),l=a(9434);function i(e){let{className:t,type:a,...s}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,l.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...a})}var u=a(2129);function x(e){let{expression:t,result:a,error:s,onExpressionChange:l,onKeyPress:o}=e,{translations:d,direction:c}=(0,u.o)();return(0,r.jsxs)(n,{className:"p-6 mb-4 bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"expression-input",className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:d.display.expression}),(0,r.jsx)(i,{id:"expression-input",type:"text",value:t,onChange:e=>l(e.target.value),onKeyDown:e=>{let t=e.key;/^[0-9+\-*/().×÷%−]$/.test(t)?(e.preventDefault(),null==o||o(t)):"Enter"===t?(e.preventDefault(),null==o||o("=")):"Backspace"===t?(e.preventDefault(),null==o||o("⌫")):"Escape"===t&&(e.preventDefault(),null==o||o("C"))},placeholder:d.input.placeholder,className:"text-2xl font-mono font-semibold h-16 text-right\n            ".concat("rtl"===c?"text-left":"text-right","\n            ").concat(s?"border-red-500 focus:border-red-500":"border-slate-300","\n          "),dir:"ltr",autoFocus:!0}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2",children:d.input.hint})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:d.display.result}),(0,r.jsx)("div",{className:"text-4xl font-bold font-mono\n          ".concat(s?"text-red-500":"text-slate-800 dark:text-slate-100","\n          ").concat("rtl"===c?"text-left":"text-right"),dir:"ltr",children:s||a||"-"})]}),s&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:s})})]})}var v=a(9708);let h=(0,a(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:t,variant:a,size:s,asChild:i=!1,...n}=e,o=i?v.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,l.cn)(h({variant:a,size:s,className:t})),...n})}function b(e){let{onButtonPress:t}=e,{translations:a}=(0,u.o)(),s=[[{value:"C",label:a.buttons.clear,variant:"destructive"},{value:"⌫",label:a.buttons.backspace,variant:"secondary"},{value:"%",label:a.buttons.percent,variant:"secondary"},{value:"\xf7",label:a.buttons.divide,variant:"default"}],[{value:"7",label:"7",variant:"outline"},{value:"8",label:"8",variant:"outline"},{value:"9",label:"9",variant:"outline"},{value:"\xd7",label:a.buttons.multiply,variant:"default"}],[{value:"4",label:"4",variant:"outline"},{value:"5",label:"5",variant:"outline"},{value:"6",label:"6",variant:"outline"},{value:"−",label:a.buttons.subtract,variant:"default"}],[{value:"1",label:"1",variant:"outline"},{value:"2",label:"2",variant:"outline"},{value:"3",label:"3",variant:"outline"},{value:"+",label:a.buttons.add,variant:"default"}],[{value:"\xb1",label:a.buttons.negate,variant:"secondary"},{value:"0",label:"0",variant:"outline"},{value:".",label:a.buttons.decimal,variant:"outline"},{value:"=",label:a.buttons.equals,variant:"default"}]],l=e=>{t(e)};return(0,r.jsxs)(n,{className:"p-4 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",children:s.map((e,t)=>e.map((e,a)=>(0,r.jsx)(m,{onClick:()=>l(e.value),variant:e.variant,className:"h-16 text-2xl font-semibold\n                ".concat("default"===e.variant?"bg-slate-800 hover:bg-slate-700 dark:bg-slate-600 dark:hover:bg-slate-500":"","\n                ").concat("outline"===e.variant?"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700 dark:hover:bg-slate-600":"","\n              "),"aria-label":e.label,children:e.label},"".concat(t,"-").concat(a))))}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[(0,r.jsx)(m,{onClick:()=>l("("),variant:"outline",className:"h-12 text-xl font-semibold bg-slate-50 hover:bg-slate-100 dark:bg-slate-700 dark:hover:bg-slate-600",children:"("}),(0,r.jsx)(m,{onClick:()=>l(")"),variant:"outline",className:"h-12 text-xl font-semibold bg-slate-50 hover:bg-slate-100 dark:bg-slate-700 dark:hover:bg-slate-600",children:")"})]})]})}var f=a(4439);function g(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(f.bL,{"data-slot":"scroll-area",className:(0,l.cn)("relative",t),...s,children:[(0,r.jsx)(f.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,r.jsx)(p,{}),(0,r.jsx)(f.OK,{})]})}function p(e){let{className:t,orientation:a="vertical",...s}=e;return(0,r.jsx)(f.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,l.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:(0,r.jsx)(f.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var y=a(7481),N=a(4186),j=a(4357);function k(e){let{history:t,onClearHistory:a,onUseHistory:s}=e,{translations:l}=(0,u.o)(),{toast:i}=(0,y.dj)(),x=async e=>{try{await navigator.clipboard.writeText(e),i({title:l.messages.copied,variant:"default"})}catch(e){console.error("Failed to copy:",e)}},v=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)(n,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[(0,r.jsxs)(o,{className:"flex flex-row items-center justify-between pb-3",children:[(0,r.jsxs)(d,{className:"text-lg font-semibold flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"w-5 h-5"}),l.history.title]}),t.length>0&&(0,r.jsx)(m,{variant:"ghost",size:"sm",onClick:a,className:"text-sm text-slate-600 dark:text-slate-400",children:l.history.clear})]}),(0,r.jsx)(c,{children:(0,r.jsx)(g,{className:"h-64",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-500",children:[(0,r.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,r.jsx)("p",{className:"text-sm",children:l.history.empty})]}):(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsx)("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 truncate",dir:"ltr",children:[e.expression," = ",e.result]}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:v(e.timestamp)})]}),(0,r.jsxs)("div",{className:"flex gap-1 shrink-0",children:[(0,r.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>x("".concat(e.expression," = ").concat(e.result)),className:"h-8 w-8 p-0",title:l.history.copy,children:(0,r.jsx)(j.A,{className:"w-4 h-4"})}),(0,r.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>s(e.expression),className:"h-8 px-2 text-xs",title:l.history.use,children:l.history.use})]})]})},e.id))})})})]})}class w{evaluate(e){try{let t=this.sanitizeExpression(e);if(!t)throw Error("Invalid expression");let a=this.convertToJSExpression(t),r=this.safeEvaluate(a);return this.formatResult(r)}catch(e){throw Error("Invalid expression")}}sanitizeExpression(e){return e.replace(/\s+/g,"")}convertToJSExpression(e){return e.replace(/×/g,"*").replace(/÷/g,"/").replace(/−/g,"-").replace(/%/g,"/100*")}safeEvaluate(e){if(!/^[\d+\-*/.() ]+$/.test(e))throw Error("Invalid characters in expression");try{let t=Function('"use strict"; return ('.concat(e,")"))();if("number"!=typeof t||isNaN(t)||!isFinite(t))throw Error("Invalid result");return t}catch(e){throw Error("Invalid expression")}}formatResult(e){return parseFloat(e.toFixed(this.precision))}add(e,t){return this.formatResult(e+t)}subtract(e,t){return this.formatResult(e-t)}multiply(e,t){return this.formatResult(e*t)}divide(e,t){if(0===t)throw Error("Division by zero");return this.formatResult(e/t)}percentage(e){return this.formatResult(e/100)}negate(e){return this.formatResult(-e)}validateExpression(e){try{return this.evaluate(e),{valid:!0}}catch(e){return{valid:!1,error:e instanceof Error?e.message:"Invalid expression"}}}formatNumber(e){let t=e.toString(),a=t.indexOf(".");return -1!==a&&t.length-a-1>this.precision?e.toFixed(this.precision):t}parseNumber(e){let t=parseFloat(e);if(isNaN(t))throw Error("Invalid number");return t}constructor(e=10){this.precision=e}}let E="calculator_history";var S=a(7835);function T(){let[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[i,n]=(0,s.useState)(null),{history:o,addToHistory:d,clearHistory:c,useHistoryItem:v}=function(){let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem(E);if(e){let a=JSON.parse(e);t(a)}}catch(e){console.error("Failed to load history:",e)}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem(E,JSON.stringify(e))}catch(e){console.error("Failed to save history:",e)}},[e]),{history:e,addToHistory:(e,a)=>{let r={id:Date.now().toString(),expression:e,result:a,timestamp:Date.now()};t(e=>[r,...e].slice(0,50))},clearHistory:()=>{t([])},removeFromHistory:e=>{t(t=>t.filter(t=>t.id!==e))},useHistoryItem:e=>e}}(),{translations:h,toggleLanguage:f,language:g}=(0,u.o)(),p=new w,y=a=>{switch(n(null),a){case"C":t(""),l("");break;case"⌫":t(e=>e.slice(0,-1));break;case"=":if(e.trim())try{let t=p.evaluate(e),a=p.formatNumber(t);l(a),d(e,a),n(null)}catch(e){e instanceof Error&&"Division by zero"===e.message?n(h.messages.divisionByZero):n(h.messages.error),l("")}break;case"\xb1":N();break;default:t(e=>e+a)}["+","-","\xd7","\xf7"].includes(a)&&setTimeout(()=>{if(e.trim())try{let t=p.evaluate(e);l(p.formatNumber(t))}catch(e){}},0)},N=()=>{if(e)try{let a=p.evaluate(e),r=p.negate(a);t("-".concat(e)),l(p.formatNumber(r))}catch(e){t(e=>"-".concat(e))}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:h.title}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:h.subtitle})]}),(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsxs)(m,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[(0,r.jsx)(S.A,{className:"w-4 h-4"}),"en"===g?"فارسی":"English"]})}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-[1fr,320px] gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(x,{expression:e,result:a,error:i,onExpressionChange:e=>{if(t(e),n(null),l(""),e.trim())try{let t=p.evaluate(e);l(p.formatNumber(t)),n(null)}catch(e){n(null)}},onKeyPress:y}),(0,r.jsx)(b,{onButtonPress:y})]}),(0,r.jsx)("aside",{children:(0,r.jsx)(k,{history:o,onClearHistory:c,onUseHistory:e=>{t(e),n(null);try{let t=p.evaluate(e);l(p.formatNumber(t))}catch(e){l("")}}})})]})]})})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[85,517,441,684,358],()=>t(1801)),_N_E=e.O()}]);